<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>What is going on with crime in Phoenix?</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Open Criminology Phoenix (OCP)</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">About OCP</a>
</li>
<li>
  <a href="intro.html">Intro to OCP</a>
</li>
<li>
  <a href="crime.html">Crime in Phoenix</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">What is going on with crime in
Phoenix?</h1>
<h4 class="date">12 March, 2024</h4>

</div>


<p><br></p>
<p>If we want to know what is going on with crime in Phoenix, we can
take a look at the <a
href="https://www.phoenixopendata.com/dataset/crime-data">Crime Data</a>
from the <a href="https://www.phoenixopendata.com/">data portal</a>.
This file contains incidents reported to the Phoenix Police Department.
The city updates the file at 11am every day and it contains data
beginning November 2015 up to 7 days before the posting date.</p>
<p><br><br></p>
<div id="to-the-data" class="section level3 tabset">
<h3 class="tabset">To the data!</h3>
<p><br></p>
<div id="daily-trend" class="section level4">
<h4>Daily trend</h4>
<p><br></p>
<p>Let’s pull the most recent data for <strong>crime incidents</strong>
from the site.</p>
<p>The data are reported as UCR crime classifications and have
geographic information (block address, zip) as well as the date and time
of the incident. As of March, 2024, there were 530,664 crime incidents
with complete data from 11/2015 to within a week of the current
date.</p>
<p>Let’s start by looking at the daily counts of crime from when the
data are first available (i.e. November 2015) and look at the trend up
to the current date.</p>
<p><br></p>
<p><img src="crime-trends_files/figure-html/unnamed-chunk-2-1.png" width="1152" /></p>
<p><br> The plot shows a fairly stable daily count of crimes.
<em>But</em>, a marked <strong>decline</strong> towards the end of 2019.
Since the end of 2019 through the beginning of 2021, crime incidents
have been trending down in Phoenix.</p>
<p>For a more in-depth examination of crime in 2020 and how it differed
from 2019, check out this <a
href="https://jacobtnyoung.github.io/R2PhX/projects/PHXcrime_types_2020.html">analysis</a>.</p>
<p>Importantly, since the end of 2019, there has been an overall
decrease in the daily counts of crime incidents. Since the beginning of
2022, there has been a <em>consistent and sizable decrease in crime
incidents</em>.</p>
<p><br></p>
</div>
<div id="getting-the-data-code" class="section level4">
<h4>Getting the data (<strong>code</strong>)</h4>
<p><br></p>
<pre class="r"><code># set the url where the data are located.
url &lt;- &quot;https://www.phoenixopendata.com/dataset/cc08aace-9ca9-467f-b6c1-f0879ab1a358/resource/0ce3411a-2fc6-4302-a33f-167f68608a20/download/crime-data_crime-data_crimestat.csv&quot;

# pull in the csv file.
crime.data &lt;- read.csv( url, as.is = TRUE, header = TRUE )

# drop cases missing on date.
crime.data &lt;- na.omit( crime.data )

# take a look at the data.
head( crime.data )  </code></pre>
</div>
<div id="preprocessing-the-data-code" class="section level4">
<h4>Preprocessing the data (<strong>code</strong>)</h4>
<p><br></p>
<p>Now that the data are in the workspace, let’s clean up the date and
the crime categories to make plotting them fairly easy. To do so, I am
drawing from a <a
href="https://ds4ps.org/cpp-526-sum-2020/labs/lab-05-instructions.html">lab</a>
from ASU’s <a href="https://ds4ps.org/">Foundations of Data Science Part
I</a> course in the Program Evaluation and Data Analytics. See the
“Working with Dates” section of the site. We will use the
<code>strptime()</code> and <code>format()</code> functions here.</p>
<p><br></p>
<pre class="r"><code># The date and time variable is a character string.
head( crime.data$OCCURRED.ON )</code></pre>
<pre><code>## [1] &quot;11/01/2015  00:00&quot; &quot;11/01/2015  00:00&quot; &quot;11/01/2015  00:00&quot;
## [4] &quot;11/01/2015  00:00&quot; &quot;11/01/2015  00:00&quot; &quot;11/01/2015  00:00&quot;</code></pre>
<pre class="r"><code>is.character( crime.data$OCCURRED.ON )</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code># Convert the string dates to a date format code.
date.vec &lt;- strptime( crime.data$OCCURRED.ON, format=&quot;%m/%d/%Y %H:%M&quot; )
head( date.vec )</code></pre>
<pre><code>## [1] &quot;2015-11-01 MST&quot; &quot;2015-11-01 MST&quot; &quot;2015-11-01 MST&quot; &quot;2015-11-01 MST&quot;
## [5] &quot;2015-11-01 MST&quot; &quot;2015-11-01 MST&quot;</code></pre>
<pre class="r"><code>tail( date.vec )</code></pre>
<pre><code>## [1] &quot;2024-02-29 23:05:00 MST&quot; &quot;2024-02-29 23:05:00 MST&quot;
## [3] &quot;2024-02-29 23:30:00 MST&quot; &quot;2024-02-29 23:35:00 MST&quot;
## [5] &quot;2024-02-29 23:37:00 MST&quot; &quot;2024-02-29 23:41:00 MST&quot;</code></pre>
<pre class="r"><code># Now, let&#39;s use the format() function to create several objects based on the date and time.
crime.data$year   &lt;- format( date.vec, format=&quot;%Y&quot; )
crime.data$month  &lt;- format( date.vec, format=&quot;%B&quot; )
crime.data$day365 &lt;- format( date.vec, format=&quot;%j&quot; )
crime.data$week   &lt;- format( date.vec, format=&quot;%V&quot; )

# Drop cases for the most recent month since the low counts will through off the scale.
crime.data &lt;- crime.data[ ! ( 
  crime.data$month == format( Sys.Date(), format=&quot;%B&quot; ) &amp;
    crime.data$year == format( Sys.Date(), format=&quot;%Y&quot; ) 
) , ]</code></pre>
</div>
<div id="plotting-the-data-code" class="section level4">
<h4>Plotting the data (<strong>code</strong>)</h4>
<p><br></p>
<pre class="r"><code># Now, let&#39;s use dplyr and tidyr to get the data in a format where we can look at the time series.
library( dplyr )
library( tidyr )

# Use dplyr() to create an object that is the daily count of crimes.
crimes.by.day &lt;- 
  crime.data %&gt;% 
  select( year, month, day365 ) %&gt;%   
  filter( !is.na( day365 ) ) %&gt;% 
  group_by( year, month, day365 ) %&gt;% 
  summarize( counts = n() ) %&gt;% 
  ungroup() %&gt;% 
  mutate( day.time = seq( 1, length( counts ) ) ) %&gt;% 
  select( counts, day.time ) %&gt;% 
  mutate( days = 
            seq( 
              as.Date( head( strptime( crime.data$OCCURRED.ON, format=&quot;%m/%d/%Y %H:%M&quot; ) ) )[1], 
              as.Date( tail( strptime( crime.data$OCCURRED.ON, format=&quot;%m/%d/%Y %H:%M&quot; ) ) )[6], 
              length.out = length( counts ) ) ) %&gt;% 
  arrange( day.time )


# Finally, let&#39;s take a look using ggplot2.
library( ggplot2 )

# Add the dates for the plot.
crimes.by.day &lt;- as.data.frame( crimes.by.day )

# Now let&#39;s plot it!
crimes.by.day %&gt;% 
  ggplot( aes( days, counts ) ) +
  geom_line( color = &quot;grey80&quot; ) +
  geom_point( alpha = 1/5, color = &quot;black&quot; ) +
  labs( x = &quot;&quot;, y = &quot;Counts of Crime per Day&quot; ) + 
  ggtitle( &quot;Daily Crime Counts in Phoenix, AZ&quot; ) +
  geom_smooth( color = &quot;darkblue&quot;, span = 0.2 ) +
  scale_y_continuous( label = comma ) +
  theme_minimal()  </code></pre>
<p><br></p>
</div>
</div>
<div id="what-about-rates" class="section level3 tabset">
<h3 class="tabset">What about rates?</h3>
<p><br></p>
<div id="rates-of-crime" class="section level4">
<h4>Rates of crime</h4>
<p><br></p>
<p>The daily count view is useful, but it might help if we make two
changes:</p>
<ul>
<li><p>First, we should break it down by year and month. This adjustment
corrects for the seasonality of crime. One way to show this seasonal
variation in crime incidents is to plot the monthly incidents for each
year. Note that for 2024, the line stops the month before March, as that
is the last month of complete data from the portal.</p></li>
<li><p>Second, we should adjust the counts to be <em>rates</em> of
incidents of crime. This will adjust for differences in the population
of Phoenix from 2016-2024. The crime incident rate is calculated as the
count of crimes divided by the population size, then multiplied by
100,000. This then tells us how many incidents of crime occur per
100,000 people in the population.</p></li>
</ul>
<p><br></p>
</div>
<div id="creating-rates-code" class="section level4">
<h4>Creating rates (<strong>code</strong>)</h4>
<p>Let’s pull population data from the <a
href="https://www.census.gov/topics/population.html">Census Bureau</a>.
The site lists Excel files with estimates of population for incorporated
places. Since this is an .xlxs file, we will use the
<code>openxlxs</code> package.</p>
<p>We will work with two files:</p>
<ul>
<li><p>Years 2010-2019 for <a
href="https://www2.census.gov/programs-surveys/popest/tables/2010-2019/cities/totals/SUB-IP-EST2019-ANNRES-04.xlsx">Arizona</a></p></li>
<li><p>Years 2020-2021 for <a
href="https://www2.census.gov/programs-surveys/popest/tables/2020-2021/cities/totals/SUB-IP-EST2021-POP-04.xlsx">Arizona</a></p></li>
</ul>
<p>Let’s pull these estimates in and get the data for Phoenix.</p>
<pre class="r"><code>library( openxlsx )

# get years 2016-2019
pop.data.2016.2019 &lt;- read.xlsx(
  &quot;https://www2.census.gov/programs-surveys/popest/tables/2010-2019/cities/totals/SUB-IP-EST2019-ANNRES-04.xlsx&quot;,
  colNames = TRUE,
  startRow = 4
)

# Find the row with the data for Phoenix
grep(&quot;Phoenix&quot;, pop.data.2016.2019[,1])</code></pre>
<pre><code>## [1] 55</code></pre>
<pre class="r"><code># It is the 55th row in the object
phoenix.pop.2016.2019 &lt;-  pop.data.2016.2019[55,]
phoenix.pop.2016.2019</code></pre>
<pre><code>##                       X1  Census Estimates.Base    2010    2011    2012    2013
## 55 Phoenix city, Arizona 1445632        1446691 1449038 1469796 1499274 1526491
##       2014    2015    2016    2017    2018    2019
## 55 1555445 1583690 1612199 1633560 1654675 1680992</code></pre>
<pre class="r"><code># We only need the data for 2016-2019
phoenix.pop.2016.2019 &lt;- phoenix.pop.2016.2019[-c(1:9)]
phoenix.pop.2016.2019</code></pre>
<pre><code>##       2016    2017    2018    2019
## 55 1612199 1633560 1654675 1680992</code></pre>
<pre class="r"><code># Repeat these steps for the 2020-2021 data
pop.data.2020.2021 &lt;- read.xlsx(
  &quot;https://www2.census.gov/programs-surveys/popest/tables/2020-2021/cities/totals/SUB-IP-EST2021-POP-04.xlsx&quot;,
  colNames = TRUE,
  startRow = 4
)

grep(&quot;Phoenix&quot;, pop.data.2020.2021[,1])</code></pre>
<pre><code>## [1] 55</code></pre>
<pre class="r"><code>phoenix.pop.2020.2021 &lt;-  pop.data.2020.2021[55,]
phoenix.pop.2020.2021</code></pre>
<pre><code>##                       X1      X2    2020    2021
## 55 Phoenix city, Arizona 1607739 1611345 1624569</code></pre>
<pre class="r"><code>phoenix.pop.2020.2021 &lt;- phoenix.pop.2020.2021[-c(1:2)]
phoenix.pop.2020.2021</code></pre>
<pre><code>##       2020    2021
## 55 1611345 1624569</code></pre>
<pre class="r"><code># combine the data into a single object
phoenix.pop &lt;- cbind( phoenix.pop.2016.2019, phoenix.pop.2020.2021 )
phoenix.pop</code></pre>
<pre><code>##       2016    2017    2018    2019    2020    2021
## 55 1612199 1633560 1654675 1680992 1611345 1624569</code></pre>
<p>Ok! We have our population data. But, what about years after 2021?
These are not reported yet. So, we need to fill that in. We could do
this various ways, but for ease, let’s just add the difference in growth
from the prior year.</p>
<pre class="r"><code># Missing 2022 and 2023 and 2024
# Add the difference for each year until you get the actual demographic data
phoenix.pop$&quot;2022&quot; &lt;- phoenix.pop$&quot;2021&quot; + phoenix.pop$&quot;2021&quot; - phoenix.pop$&quot;2020&quot;
phoenix.pop$&quot;2023&quot; &lt;- phoenix.pop$&quot;2022&quot; + phoenix.pop$&quot;2022&quot; - phoenix.pop$&quot;2021&quot;
phoenix.pop$&quot;2024&quot; &lt;- phoenix.pop$&quot;2023&quot; + phoenix.pop$&quot;2023&quot; - phoenix.pop$&quot;2022&quot;

# now we coerce the data to be numeric to use it below
phoenix.pop.data &lt;- as.numeric( phoenix.pop )
phoenix.pop.data</code></pre>
<pre><code>## [1] 1612199 1633560 1654675 1680992 1611345 1624569 1637793 1651017 1664241</code></pre>
<pre class="r"><code># now, calculate the crime rate. Crime rate is calculated as the count of crimes divided by the population size, then multipled by 100,000.
crime.rates &lt;- as.data.frame( crimes.by.month )

for ( i in 1: dim( crime.rates )[2] ){
  crime.rates[,i] &lt;- ( crime.rates[,i] / phoenix.pop.data[i] ) * 100000
}

# calculate the crime rate by year.
crime.rates.year &lt;- as.data.frame( crimes.by.year )

for ( i in 1: dim( crime.rates.year )[1] ){
  crime.rates.year[i,2] &lt;- ( crime.rates.year[i,2] / phoenix.pop.data[i] ) * 100000
}</code></pre>
</div>
</div>
<div id="section" class="section level3">
<h3></h3>
</div>
<div id="what-about-crime-by-month" class="section level3 tabset">
<h3 class="tabset">What about crime by month?</h3>
<p><br></p>
<div id="seasonality" class="section level4">
<h4>Seasonality</h4>
<p><br></p>
<p><img src="crime-trends_files/figure-html/unnamed-chunk-8-1.png" width="1152" /></p>
<p><br></p>
<p>The plot showing the monthly rates by year helps us visualize the
data better. Note that the current year, 2024, is missing a label
because the year is incomplete. There are a few important patterns we
can take from the plot:</p>
<ul>
<li><p>First, the trend for 2020 is <em>unusual</em> relative to other
years. <em>Particularly</em> for the period of March-June. For a more
elaborate discussion of this trend, see this <a
href="https://jacobtnyoung.github.io/R2PhX/projects/PHXcrime_types_2020.html">analysis</a>.</p></li>
<li><p>Second, relative to past years, more recent criminal incidents
tend to be lower. For example, 2022 and 2023 both show a generally lower
rate of crime incidents relative to 2017-2021.</p></li>
<li><p>Third, there has been a considerable decline in crime incidents
toward the end of 2022 that has continued into 2023.</p></li>
</ul>
<p><br></p>
</div>
<div id="reworking-the-data-to-monthly-incidents-code"
class="section level4">
<h4>Reworking the data to monthly incidents (<strong>code</strong>)</h4>
<p><br></p>
<p>This takes some reworking of the data.</p>
<ul>
<li><p>First, rather than collapsing by day, we want to record counts by
month.</p></li>
<li><p>Second, we need to create a <code>ts()</code> object. That is, we
need to create a time series object using the <code>ts()</code>
function. We will also use the <code>ggseasonplot()</code> from the
<code>forecast</code> package.</p></li>
</ul>
<p><br></p>
<pre class="r"><code># Back to dplyr! Let&#39;s create an object that is monthly counts and sorted by year. 
crimes.by.month &lt;- 
  crime.data %&gt;% 
  select( year, month ) %&gt;%   
  filter( year != 2015 ) %&gt;%  
  filter( !is.na( year ) ) %&gt;% 
  group_by( year, month ) %&gt;% 
  summarize( counts = n() ) %&gt;% 
  spread( year, counts ) %&gt;% 
  arrange( match( month, month.name ) ) %&gt;% 
  select( !month )

# Now, lets use the ts() function to create a time series object.
library( forecast )

monthly.crime.rate.by.year &lt;- ts(
  matrix( as.matrix( crime.rates ), ncol = 1 ), 
  start=c( 2016, 1 ), 
  end=c( as.numeric( tail( names( crime.rates ), n=1 ) ), 12 ), frequency=12
)</code></pre>
</div>
<div id="plotting-the-data-code-1" class="section level4">
<h4>Plotting the data (<strong>code</strong>)</h4>
<p><br></p>
<pre class="r"><code>library( ggplot2 )
library( forecast )

monthly.crime.rate.by.year %&gt;% 
  ggseasonplot(
    year.labels = TRUE,
    continuous = FALSE,
    main = &quot;Plot of Monthly Crime Rate by Years for Phoenix, AZ&quot;,
    col = colorRampPalette(c(&quot;aquamarine2&quot;, &quot;firebrick&quot;))( dim( crime.rates )[2] ) ) + 
  scale_y_continuous( label = comma ) +
  geom_line( size = 1.2 ) +
  theme_minimal() </code></pre>
</div>
</div>
<div id="section-1" class="section level3">
<h3></h3>
<p><br></p>
</div>
<div id="what-about-crime-by-year" class="section level3 tabset">
<h3 class="tabset">What about crime by year?</h3>
<p><br></p>
<div id="seasonality-1" class="section level4">
<h4>Seasonality</h4>
<p><br></p>
<p><img src="crime-trends_files/figure-html/unnamed-chunk-11-1.png" width="1152" /></p>
<p><br></p>
</div>
<div id="plotting-the-data-code-2" class="section level4">
<h4>Plotting the data (<strong>code</strong>)</h4>
<p><br></p>
<pre class="r"><code>library( ggplot2 )
library( forecast )

crime.rates.year %&gt;%
  # drop the current year because it distorts the graph
  filter( year != as.numeric( format( Sys.Date(), format=&quot;%Y&quot; ) ) ) %&gt;%
    ggplot( aes( year, counts, group = 1 ) ) +
    geom_line( color = &quot;black&quot;) +
    geom_point( color = &quot;aquamarine4&quot; ) +
    labs( x = &quot;&quot;, y = &quot;Rate of Crime per Year&quot; ) + 
    ggtitle( &quot;Plot of Crime Rate by Year in Phoenix, AZ&quot; ) +
    scale_y_continuous( label = comma ) +
    theme_minimal() </code></pre>
</div>
</div>
<div id="section-2" class="section level3">
<h3></h3>
<p><br></p>
</div>
<div id="next-steps" class="section level3">
<h3>Next steps…</h3>
<p><br></p>
<p>Note that these plots represents <strong>all</strong> types of
crimes. For a more elaborate discussion of various crime types, check
out this <a
href="https://jacobtnyoung.github.io/OpenCrimPhx/projects/crime-types.html">analysis</a>.</p>
<p><br></p>
<p align="center">
<a href="https://jacobtnyoung.github.io/OpenCrimPhx/">Back to Open
Criminology Phoenix page</a>
</p>
<p><br></p>
<p><strong><em>Please</em></strong> report any needed corrections to the
<a
href="https://github.com/jacobtnyoung/OpenCrimPhx/issues/new">Issues</a>
page. Thanks!</p>
<p><br><br></p>
<div id="last-updated-12-march-2024" class="section level6">
<h6><strong><em>Last updated 12 March, 2024</em></strong></h6>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
